<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta http-equiv=X-UA-Compatible content="IE=edge" /><meta name=viewport content="width=device-width,initial-scale=1.0" /><link href=/mirrorui/mirrorui.css rel=stylesheet /><title>createLinearGradient | canvas文档整理 | Mirror Space</title><style>.mainmenubox{position:sticky;top:0;max-height:90vh;overflow:hidden;overflow-y:auto}</style></head><body><p>文档参考1<a href=https://www.canvasapi.cn target=_blank>https://www.canvasapi.cn</a>  文档参考2<a href=https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial target=_blank>https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial</a> 文档参考3 &lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>></p><hr class=line /><div class=grids><div class="grid-2 mainmenubox"><nav class=sidemenu-box id=main_menubox style=max-width:200px><ul class=sidemenu-group><li><span class=sidemenu-label>canvas<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=index.html>CanvasRenderingContext2D</a></li><li><a class=sidemenu-item href=todataurl.html>toDataURL</a></li><li><a class=sidemenu-item href=toblob.html>toBlob</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>属性<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=canvas.html title=canvas>canvas</a></li><li><a class=sidemenu-item href=currenttransform.html title=currentTransform>currentTransform</a></li><li><a class=sidemenu-item href=direction.html title=direction>direction</a></li><li><a class=sidemenu-item href=fillstyle.html title=fillStyle>fillStyle</a></li><li><a class=sidemenu-item href=filter.html title=filter>filter</a></li><li><a class=sidemenu-item href=font.html title=font>font</a></li><li><a class=sidemenu-item href=globalalpha.html title=globalAlpha>globalAlpha</a></li><li><a class=sidemenu-item href=globalcompositeoperation.html title=globalCompositeOperation>globalCompositeOperation</a></li><li><a class=sidemenu-item href=imagesmoothingenabled.html title=imageSmoothingEnabled>imageSmoothingEnabled</a></li><li><a class=sidemenu-item href=imagesmoothingquality.html title=imageSmoothingQuality>imageSmoothingQuality</a></li><li><a class=sidemenu-item href=linecap.html title=lineCap>lineCap</a></li><li><a class=sidemenu-item href=linedashoffset.html title=lineDashOffset>lineDashOffset</a></li><li><a class=sidemenu-item href=linejoin.html title=lineJoin>lineJoin</a></li><li><a class=sidemenu-item href=linewidth.html title=lineWidth>lineWidth</a></li><li><a class=sidemenu-item href=miterlimit.html title=miterLimit>miterLimit</a></li><li><a class=sidemenu-item href=shadowblur.html title=shadowBlur>shadowBlur</a></li><li><a class=sidemenu-item href=shadowcolor.html title=shadowColor>shadowColor</a></li><li><a class=sidemenu-item href=shadowoffsetx.html title=shadowOffsetX>shadowOffsetX</a></li><li><a class=sidemenu-item href=shadowoffsety.html title=shadowOffsetY>shadowOffsetY</a></li><li><a class=sidemenu-item href=strokestyle.html title=strokeStyle>strokeStyle</a></li><li><a class=sidemenu-item href=textalign.html title=textAlign>textAlign</a></li><li><a class=sidemenu-item href=textbaseline.html title=textBaseline>textBaseline</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>方法<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=addhitregion.html title=addHitRegion>addHitRegion()</a></li><li><a class=sidemenu-item href=arc.html title=arc>arc()</a></li><li><a class=sidemenu-item href=arcto.html title=arcTo>arcTo()</a></li><li><a class=sidemenu-item href=beginpath.html title=beginPath>beginPath()</a></li><li><a class=sidemenu-item href=beziercurveto.html title=bezierCurveTo>bezierCurveTo()</a></li><li><a class=sidemenu-item href=clearhitregions.html title=clearHitRegions>clearHitRegions()</a></li><li><a class=sidemenu-item href=clearrect.html title=clearRect>clearRect()</a></li><li><a class=sidemenu-item href=clip.html title=clip>clip()</a></li><li><a class=sidemenu-item href=closepath.html title=closePath>closePath()</a></li><li><a class=sidemenu-item href=createimagedata.html title=createImageData>createImageData()</a></li><li><a class=sidemenu-item href=createlineargradient.html title=createLinearGradient>createLinearGradient()</a></li><li><a class=sidemenu-item href=createpattern.html title=createPattern>createPattern()</a></li><li><a class=sidemenu-item href=createradialgradient.html title=createRadialGradient>createRadialGradient()</a></li><li><a class=sidemenu-item href=drawfocusifneeded.html title=drawFocusIfNeeded>drawFocusIfNeeded()</a></li><li><a class=sidemenu-item href=drawimage.html title=drawImage>drawImage()</a></li><li><a class=sidemenu-item href=drawwidgetasonscreen.html title=drawWidgetAsOnScreen>drawWidgetAsOnScreen()</a></li><li><a class=sidemenu-item href=drawwindow.html title=drawWindow>drawWindow()</a></li><li><a class=sidemenu-item href=ellipse.html title=ellipse>ellipse()</a></li><li><a class=sidemenu-item href=fill.html title=fill>fill()</a></li><li><a class=sidemenu-item href=fillrect.html title=fillRect>fillRect()</a></li><li><a class=sidemenu-item href=filltext.html title=fillText>fillText()</a></li><li><a class=sidemenu-item href=getimagedata.html title=getImageData>getImageData()</a></li><li><a class=sidemenu-item href=getlinedash.html title=getLineDash>getLineDash()</a></li><li><a class=sidemenu-item href=ispointinpath.html title=isPointInPath>isPointInPath()</a></li><li><a class=sidemenu-item href=ispointinstroke.html title=isPointInStroke>isPointInStroke()</a></li><li><a class=sidemenu-item href=lineto.html title=lineTo>lineTo()</a></li><li><a class=sidemenu-item href=measuretext.html title=measureText>measureText()</a></li><li><a class=sidemenu-item href=moveto.html title=moveTo>moveTo()</a></li><li><a class=sidemenu-item href=putimagedata.html title=putImageData>putImageData()</a></li><li><a class=sidemenu-item href=quadraticcurveto.html title=quadraticCurveTo>quadraticCurveTo()</a></li><li><a class=sidemenu-item href=rect.html title=rect>rect()</a></li><li><a class=sidemenu-item href=removehitregion.html title=removeHitRegion>removeHitRegion()</a></li><li><a class=sidemenu-item href=resettransform.html title=resetTransform>resetTransform()</a></li><li><a class=sidemenu-item href=restore.html title=restore>restore()</a></li><li><a class=sidemenu-item href=rotate.html title=rotate>rotate()</a></li><li><a class=sidemenu-item href=save.html title=save>save()</a></li><li><a class=sidemenu-item href=scale.html title=scale>scale()</a></li><li><a class=sidemenu-item href=scrollpathintoview.html title=scrollPathIntoView>scrollPathIntoView()</a></li><li><a class=sidemenu-item href=setlinedash.html title=setLineDash>setLineDash()</a></li><li><a class=sidemenu-item href=settransform.html title=setTransform>setTransform()</a></li><li><a class=sidemenu-item href=stroke.html title=stroke>stroke()</a></li><li><a class=sidemenu-item href=strokerect.html title=strokeRect>strokeRect()</a></li><li><a class=sidemenu-item href=stroketext.html title=strokeText>strokeText()</a></li><li><a class=sidemenu-item href=transform.html title=transform>transform()</a></li><li><a class=sidemenu-item href=translate.html title=translate>translate()</a></li></ul></nav><script>function menuinit(){let i=document.getElementById("main_menubox"),n="sidemenu-arrdown",t="sidemenu-arrleft";i.querySelectorAll(".sidemenu-label").forEach(i=>{i.onclick=()=>{let r=i.parentNode.querySelector(`.${n},.${t}`);r.classList.contains(n)?(r.classList.remove(n),r.classList.add(t),i.parentNode.parentNode.classList.add("sidemenu-group-close")):(r.classList.add(n),r.classList.remove(t),i.parentNode.parentNode.classList.remove("sidemenu-group-close"))}})}function currentMenu(){let t=window.location.pathname,r=t.substr(t.lastIndexOf("/")+1),u="#main_menubox [href='"+r+"']",n=document.querySelector(u);n.classList.add("active");n.classList.add("bg-grayse");let i=document.querySelector("#main_menubox").parentElement;i.scrollTo(0,n.offsetTop-i.clientHeight/2)}menuinit();currentMenu()</script></div><div class="grid-10 pd-20"><h2>createLinearGradient(x1,y1,x2,y2)</h2><p>创建线性渐变.传入两个坐标点,为线的起止点,返回一个CanvasGradient实例,通过调用此实例的addColorStop()方法,增加颜色渐变点</p>
<pre class="bg-gray pd-tb-10">
  ctx.createLinearGradient(x1,y1,x2,y2)
</pre><p>示例使用代码</p>
<pre class="bg-gray pd-tb-10">
    // 调用此方法得到对象
    let gradient = ctx.createLinearGradient(0, 0, 150, 150);
    // 设置渐变关键位置颜色
    gradient.addColorStop(0, 'red');
    gradient.addColorStop(.5, 'green');
    gradient.addColorStop(1, 'blue');
    // 赋值给样式属性
    ctx.fillStyle = gradient;
    // 绘画
    ctx.fillRect(0, 0, 150, 150);
</pre><h4>参数</h4><p><label class="label danger">x1</label> <small>Number</small> 起点x坐标</p><p><label class="label danger">y1</label> <small>Number</small> 起点y坐标</p><p><label class="label danger">x2</label> <small>Number</small> 终点x坐标</p><p><label class="label danger">y2</label> <small>Number</small> 终点y坐标</p><br /><h4>测验</h4><p>添加1个或多个颜色变化值.addColorStop(0.5,'red')方法添加渐变值,参数1表示在50%的位置添加红色,意思是到50%时渐变成红色</p><p>下图第1条没有渐变,因为它只添加了一个值,红色.第2条在0%和100%添加了红色和绿色,所以由红渐变为绿</p><p>最后一条色带,在0%,25%,50%,75%,100%处添加了5种颜色,可见渐变处过滤变化.下方的文字的颜色,没错,正是按渐变色的设置变化的.</p><canvas id=canvas1></canvas><p>上图是水平线渐变,再看斜线和垂直线渐变</p><p>下图左设置渐变ctx.createLinearGradient(0, 0, 150, 150),是一条斜线,而右边则是一条垂直线</p><canvas id=canvas2></canvas><p>&lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>> (52页)</p><script>function test2(){let t=getCanvas2d("canvas2");t.canvas.width=350;let n=t.createLinearGradient(0,0,150,150);n.addColorStop(0,"red");n.addColorStop(.5,"green");n.addColorStop(1,"blue");t.fillStyle=n;t.fillRect(0,0,150,150);n=t.createLinearGradient(0,0,0,150);n.addColorStop(0,"red");n.addColorStop(.5,"green");n.addColorStop(1,"blue");t.fillStyle=n;t.fillRect(160,0,150,150)}function test1(){var i;let n=getCanvas2d("canvas1");n.canvas.width=350;let t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");n.fillStyle=t;n.fillRect(0,0,300,20);t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");t.addColorStop(1,"green");n.fillStyle=t;n.fillRect(0,30,300,20);t=n.createLinearGradient(0,0,300,0);t.addColorStop(0,"red");t.addColorStop(.5,"green");t.addColorStop(1,"blue");n.fillStyle=t;n.fillRect(0,60,300,20);t=n.createLinearGradient(0,0,300,0);let r={red:0,green:.25,blue:.5,yellow:.75,brown:1};for(i in r){let n=r[i];t.addColorStop(r[i],i)}n.fillStyle=t;n.fillRect(0,90,300,20);for(i in r){let t=r[i];n.fillText(i,300*t,120);n.fillText(t*100+"%",300*t,135)}n.fillText("0.2%",300*.12,135)}function getCanvas2d(n){let t=document.querySelector("#"+n);t.style.display="block";t.style.margin="20px";t.style.backgroundColor="#f0f0f0";return t.getContext("2d")}test1();test2()</script></div></div></body></html>