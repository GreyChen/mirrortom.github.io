<!DOCTYPE html><html lang=en><head><meta charset=utf-8 /><meta http-equiv=X-UA-Compatible content="IE=edge" /><meta name=viewport content="width=device-width,initial-scale=1.0" /><link href=/mirrorui/mirrorui.css rel=stylesheet /><title>lineJoin | canvas文档整理 | Mirror Space</title><style>.page{display:grid;grid-template-columns:210px auto}.mainmenubox{position:sticky;top:0;width:94%;max-height:100vh;overflow-x:hidden;overflow-y:auto}</style></head><body><div class=page><div class=mainmenubox><nav class=sidemenu-box id=main_menubox style=max-width:200px><ul class=sidemenu-group><li><span class=sidemenu-label>canvas<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=ckdoc.html>参考文档</a></li><li><a class=sidemenu-item href=index.html>CanvasRenderingContext2D</a></li><li><a class=sidemenu-item href=todataurl.html>toDataURL</a></li><li><a class=sidemenu-item href=toblob.html>toBlob</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>属性<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=canvas.html title=canvas>canvas</a></li><li><a class=sidemenu-item href=currenttransform.html title=currentTransform>currentTransform</a></li><li><a class=sidemenu-item href=direction.html title=direction>direction</a></li><li><a class=sidemenu-item href=fillstyle.html title=fillStyle>fillStyle</a></li><li><a class=sidemenu-item href=filter.html title=filter>filter</a></li><li><a class=sidemenu-item href=font.html title=font>font</a></li><li><a class=sidemenu-item href=globalalpha.html title=globalAlpha>globalAlpha</a></li><li><a class=sidemenu-item href=globalcompositeoperation.html title=globalCompositeOperation>globalCompositeOperation</a></li><li><a class=sidemenu-item href=imagesmoothingenabled.html title=imageSmoothingEnabled>imageSmoothingEnabled</a></li><li><a class=sidemenu-item href=imagesmoothingquality.html title=imageSmoothingQuality>imageSmoothingQuality</a></li><li><a class=sidemenu-item href=linecap.html title=lineCap>lineCap</a></li><li><a class=sidemenu-item href=linedashoffset.html title=lineDashOffset>lineDashOffset</a></li><li><a class=sidemenu-item href=linejoin.html title=lineJoin>lineJoin</a></li><li><a class=sidemenu-item href=linewidth.html title=lineWidth>lineWidth</a></li><li><a class=sidemenu-item href=miterlimit.html title=miterLimit>miterLimit</a></li><li><a class=sidemenu-item href=shadowblur.html title=shadowBlur>shadowBlur</a></li><li><a class=sidemenu-item href=shadowcolor.html title=shadowColor>shadowColor</a></li><li><a class=sidemenu-item href=shadowoffsetx.html title=shadowOffsetX>shadowOffsetX</a></li><li><a class=sidemenu-item href=shadowoffsety.html title=shadowOffsetY>shadowOffsetY</a></li><li><a class=sidemenu-item href=strokestyle.html title=strokeStyle>strokeStyle</a></li><li><a class=sidemenu-item href=textalign.html title=textAlign>textAlign</a></li><li><a class=sidemenu-item href=textbaseline.html title=textBaseline>textBaseline</a></li></ul><ul class=sidemenu-group><li><span class=sidemenu-label>方法<i class=sidemenu-arrdown></i></span></li><li><a class=sidemenu-item href=addhitregion.html title=addHitRegion>addHitRegion()</a></li><li><a class=sidemenu-item href=arc.html title=arc>arc()</a></li><li><a class=sidemenu-item href=arcto.html title=arcTo>arcTo()</a></li><li><a class=sidemenu-item href=beginpath.html title=beginPath>beginPath()</a></li><li><a class=sidemenu-item href=beziercurveto.html title=bezierCurveTo>bezierCurveTo()</a></li><li><a class=sidemenu-item href=clearhitregions.html title=clearHitRegions>clearHitRegions()</a></li><li><a class=sidemenu-item href=clearrect.html title=clearRect>clearRect()</a></li><li><a class=sidemenu-item href=clip.html title=clip>clip()</a></li><li><a class=sidemenu-item href=closepath.html title=closePath>closePath()</a></li><li><a class=sidemenu-item href=createimagedata.html title=createImageData>createImageData()</a></li><li><a class=sidemenu-item href=createlineargradient.html title=createLinearGradient>createLinearGradient()</a></li><li><a class=sidemenu-item href=createpattern.html title=createPattern>createPattern()</a></li><li><a class=sidemenu-item href=createradialgradient.html title=createRadialGradient>createRadialGradient()</a></li><li><a class=sidemenu-item href=drawfocusifneeded.html title=drawFocusIfNeeded>drawFocusIfNeeded()</a></li><li><a class=sidemenu-item href=drawimage.html title=drawImage>drawImage()</a></li><li><a class=sidemenu-item href=drawwidgetasonscreen.html title=drawWidgetAsOnScreen>drawWidgetAsOnScreen()</a></li><li><a class=sidemenu-item href=drawwindow.html title=drawWindow>drawWindow()</a></li><li><a class=sidemenu-item href=ellipse.html title=ellipse>ellipse()</a></li><li><a class=sidemenu-item href=fill.html title=fill>fill()</a></li><li><a class=sidemenu-item href=fillrect.html title=fillRect>fillRect()</a></li><li><a class=sidemenu-item href=filltext.html title=fillText>fillText()</a></li><li><a class=sidemenu-item href=getimagedata.html title=getImageData>getImageData()</a></li><li><a class=sidemenu-item href=getlinedash.html title=getLineDash>getLineDash()</a></li><li><a class=sidemenu-item href=ispointinpath.html title=isPointInPath>isPointInPath()</a></li><li><a class=sidemenu-item href=ispointinstroke.html title=isPointInStroke>isPointInStroke()</a></li><li><a class=sidemenu-item href=lineto.html title=lineTo>lineTo()</a></li><li><a class=sidemenu-item href=measuretext.html title=measureText>measureText()</a></li><li><a class=sidemenu-item href=moveto.html title=moveTo>moveTo()</a></li><li><a class=sidemenu-item href=putimagedata.html title=putImageData>putImageData()</a></li><li><a class=sidemenu-item href=quadraticcurveto.html title=quadraticCurveTo>quadraticCurveTo()</a></li><li><a class=sidemenu-item href=rect.html title=rect>rect()</a></li><li><a class=sidemenu-item href=removehitregion.html title=removeHitRegion>removeHitRegion()</a></li><li><a class=sidemenu-item href=resettransform.html title=resetTransform>resetTransform()</a></li><li><a class=sidemenu-item href=restore.html title=restore>restore()</a></li><li><a class=sidemenu-item href=rotate.html title=rotate>rotate()</a></li><li><a class=sidemenu-item href=save.html title=save>save()</a></li><li><a class=sidemenu-item href=scale.html title=scale>scale()</a></li><li><a class=sidemenu-item href=scrollpathintoview.html title=scrollPathIntoView>scrollPathIntoView()</a></li><li><a class=sidemenu-item href=setlinedash.html title=setLineDash>setLineDash()</a></li><li><a class=sidemenu-item href=settransform.html title=setTransform>setTransform()</a></li><li><a class=sidemenu-item href=stroke.html title=stroke>stroke()</a></li><li><a class=sidemenu-item href=strokerect.html title=strokeRect>strokeRect()</a></li><li><a class=sidemenu-item href=stroketext.html title=strokeText>strokeText()</a></li><li><a class=sidemenu-item href=transform.html title=transform>transform()</a></li><li><a class=sidemenu-item href=translate.html title=translate>translate()</a></li></ul></nav><script>function menuinit(){let i=document.getElementById("main_menubox"),n="sidemenu-arrdown",t="sidemenu-arrleft";i.querySelectorAll(".sidemenu-label").forEach(i=>{i.onclick=()=>{let r=i.parentNode.querySelector(`.${n},.${t}`);r.classList.contains(n)?(r.classList.remove(n),r.classList.add(t),i.parentNode.parentNode.classList.add("sidemenu-group-close")):(r.classList.add(n),r.classList.remove(t),i.parentNode.parentNode.classList.remove("sidemenu-group-close"))}})}function currentMenu(){let t=window.location.pathname,r=t.substr(t.lastIndexOf("/")+1),u="#main_menubox [href='"+r+"']",n=document.querySelector(u);n.classList.add("active");n.classList.add("bg-grayse");let i=document.querySelector("#main_menubox").parentElement;i.scrollTo(0,n.offsetTop-i.clientHeight/2)}menuinit();currentMenu()</script></div><div class=pd-20><h2>lineJoin</h2><p>用来设置2个长度不为0的相连部分(线段,圆弧,曲线）如何连接在一起的属性(长度为0的变形部分,其指定的末端和控制点在同一位置,会被忽略)</p>
<pre class="bg-gray pd-tb-10">
  ctx.lineJoin = "bevel";// 在相连部分的末端填充一个额外的以三角形为底的区域, 每个部分都有各自独立的矩形拐角.
  ctx.lineJoin = "round";// 通过填充一个额外的,圆心在相连部分末端的扇形,绘制拐角的形状. 圆角的半径是线段的宽度.
  ctx.lineJoin = "miter";// 默认值 通过延伸相连部分的外边缘,使其相交于一点,形成一个额外的菱形区域.这个设置可以通过 miterLimit 属性看到效果.
</pre><p>round: 通过填充一个额外的,圆心在相连部分末端的扇形,绘制拐角的形状. 圆角的半径是线段的宽度.</p><br /><h4>测验</h4><p>三个值,三条折线,从左到右'bevel','round','miter'</p><p>设置bevel时,接头处变平了,'round'则变圆了,'miter'为尖角,这个是默认值.不设置时就是这样</p><div class=grids><canvas id=canvas1></canvas><canvas id=canvas2></canvas><canvas id=canvas3></canvas></div><p>画一个矩形,边厚度为15</p><p>可以画圆角矩形</p><div class=grids><canvas id=canvas4></canvas><canvas id=canvas5></canvas><canvas id=canvas6></canvas></div><p>画一个5角星,边厚度为10</p><p>5角星也能变平角和圆角的</p><div class=grids><canvas id=canvas7></canvas><canvas id=canvas8></canvas><canvas id=canvas9></canvas></div><h5>&lt;&lt;H5核心技术图形动画与游戏开发(David Geary)>> 81页</h5><p>线段端点与连接点的绘制</p><script src=/asset/js/canvahelp.js></script><script>function test3(){var n,t;let u=getCanvas2d("canvas7"),f=getCanvas2d("canvas8"),e=getCanvas2d("canvas9"),i=[u,f,e],r=["bevel","round","miter"];for(n=0;n<i.length;n++){let u=i[n];u.lineJoin=r[n];u.lineWidth=10;let f=60;for(u.save(),u.translate(125,75),u.moveTo(0,-f),t=0;t<5;t++)u.rotate(-Math.PI*4/5),u.lineTo(0,-f);u.fillStyle="skyblue";u.fill();u.stroke();u.restore();u.font="18px serial";u.fillText(r[n],200,130)}}function test2(){let r=getCanvas2d("canvas4"),u=getCanvas2d("canvas5"),f=getCanvas2d("canvas6"),t=[r,u,f],i=["bevel","round","miter"];for(var n=0;n<t.length;n++){let r=t[n];r.lineJoin=i[n];r.lineWidth=15;r.rect(40,50,200,60);r.stroke();r.font="18px serial";r.fillText(i[n],120,90)}}function test1(){let u=getCanvas2d("canvas1"),f=getCanvas2d("canvas2"),e=getCanvas2d("canvas3"),i=[u,f,e],r=["bevel","round","miter"],n=[[10,10],[60,120],[100,30],[250,70]],o=10;for(var t=0;t<i.length;t++){let u=i[t];u.strokeStyle="#ff8800";u.lineWidth=o;u.lineJoin=r[t];u.moveTo(n[0][0],n[0][1]);u.lineTo(n[1][0],n[1][1]);u.lineTo(n[2][0],n[2][1]);u.lineTo(n[3][0],n[3][1]);u.stroke();u.font="18px serial";u.fillText(r[t],200,130)}}test1();test2();test3()</script></div></div></body></html>